
<html>
<head>
    <title>Test Report (develop)</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jeresig-jquery.hotkeys/0.2.0/jquery.hotkeys.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/colresizable/1.6.0/colResizable.min.js"></script>
    <style>
        body { padding: 20px; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; }
        .table-container { max-height: 600px; overflow-y: auto; }
        .table { font-size: 0.85em; width: 100%; border-collapse: collapse; }
        th, td { vertical-align: middle; padding: 8px !important; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
        th { background-color: #f1f3f5; position: sticky; top: 0; z-index: 10; }
        .status-PASS { color: #28a745; font-weight: 600; }
        .status-FAIL { color: #dc3545; font-weight: 600; }
        .status-SKIPPED { color: #ffc107; font-weight: 600; }
        pre.text-wrap { white-space: pre-wrap; max-height: 200px; overflow-y: auto; background-color: #f8f9fa; padding: 10px; border-radius: 5px; font-size: 0.8em; max-width: 100%; word-wrap: break-word; }
        .json-pretty { background-color: #f8f9fa; padding: 10px; border-radius: 5px; font-size: 0.8em; white-space: pre-wrap; overflow-x: auto; line-height: 1.4; }
        .text-truncate { overflow: hidden; text-overflow: ellipsis; white-space: nowrap; max-width: 100%; }
        .chart-container { max-width: 400px; margin-bottom: 20px; }
        .text-success { color: #28a745; font-weight: 600; } /* Xanh cho nhanh (< 0.2 s) */
        .text-warning { color: #ffc107; font-weight: 600; } /* Vàng cho trung bình (0.2-0.5 s) */
        .text-danger { color: #dc3545; font-weight: 600; } /* Đỏ cho chậm (>= 0.5 s) */
        .grip { width: 5px; height: 20px; background: #ccc; margin: 0 auto; }
        .dragging { cursor: col-resize; }
        @media (max-width: 768px) { .table { font-size: 0.75em; } }
    </style>
</head>
<body>
    <div class="container-fluid">
        <h1 class="my-4">Test Report (develop)</h1>
        <div class="row">
            <div class="col-lg-3 col-md-4 chart-container">
                <div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-2.32.0.min.js"></script>                <div id="d6e02a5e-9204-45ff-925c-8f45058248cf" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("d6e02a5e-9204-45ff-925c-8f45058248cf")) {                    Plotly.newPlot(                        "d6e02a5e-9204-45ff-925c-8f45058248cf",                        [{"domain":{"x":[0.0,1.0],"y":[0.0,1.0]},"hole":0.4,"hovertemplate":"label=%{label}\u003cbr\u003evalue=%{value}\u003cextra\u003e\u003c\u002fextra\u003e","labels":["PASS"],"legendgroup":"","name":"","showlegend":true,"values":[1],"type":"pie","textfont":{"size":14},"marker":{"line":{"color":"#000000","width":2}},"hoverinfo":"label+percent","textinfo":"value+percent"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"legend":{"tracegroupgap":0},"title":{"text":"Test Results by Status"},"piecolorway":["rgb(141,211,199)","rgb(255,255,179)","rgb(190,186,218)","rgb(251,128,114)","rgb(128,177,211)","rgb(253,180,98)","rgb(179,222,105)","rgb(252,205,229)","rgb(217,217,217)","rgb(188,128,189)","rgb(204,235,197)","rgb(255,237,111)"]},                        {"responsive": true}                    )                };                            </script>        </div>
            </div>
            <div class="col-lg-9 col-md-8">
                <div class="card mb-4">
                    <div class="card-body">
                        <h5 class="card-title">Summary</h5>
                        <p>Total Tests: 1</p>
                        <p>Passed: 1 (100.0%)</p>
                        <p>Failed: 0 (0.0%)</p>
                        <p>Skipped: 0 (0.0%)</p>
                    </div>
                </div>
            </div>
        </div>
        <h2 class="my-4">Test Details</h2>
        <div class="table-container">
            <table id="testTable" class="table table-striped table-bordered table-sm">
                <thead>
                    <tr>
                        <th style="width: 15%;">Test Name</th>
                        <th style="width: 10%;">Status</th>
                        <th style="width: 10%;">Response Code</th>
                        <th style="width: 15%;">URL</th>
                        <th style="width: 10%;">Method</th>
                        <th style="width: 20%;">Headers</th>
                        <th style="width: 20%;">Response Body</th>
                        <th style="width: 10%;">Time Duration (s)</th>
                        <th style="width: 10%;">Timestamp</th>
                    </tr>
                </thead>
                <tbody id="testTableBody">
                    
                <tr>
                    <td class="text-truncate">test_update_credentials_post_media</td>
                    <td><span class='status-PASS'>PASS</span></td>
                    <td>200</td>
                    <td><a href='https://lab-sn.emso.vn/api/v1/media' target='_blank' class='text-truncate' style='display: inline-block;'>https://lab-sn.emso.vn/api/v1/media</a></td>
                    <td>POST</td>
                    <td>
                        <button class='btn btn-sm btn-outline-primary' type='button' data-bs-toggle='collapse' data-bs-target='#headers0' aria-expanded='false' aria-controls='headers0'>
                            Toggle Headers
                        </button>
                        <div class='collapse' id='headers0'>
                            <pre class='mt-2 mb-0 text-wrap json-pretty'>{<br>  "Date": "Wed, 16 Jul 2025 10:03:24 GMT",<br>  "Content-Type": "application/json; charset=utf-8",<br>  "Transfer-Encoding": "chunked",<br>  "Connection": "keep-alive",<br>  "Access-Control-Allow-Origin": "*",<br>  "Access-Control-Allow-Methods": "POST, PUT, DELETE, GET, PATCH, OPTIONS",<br>  "Access-Control-Expose-Headers": "Link, X-RateLimit-Reset, X-RateLimit-Limit, X-RateLimit-Remaining, X-Request-Id",<br>  "Access-Control-Max-Age": "7200",<br>  "X-Frame-Options": "DENY",<br>  "X-Content-Type-Options": "nosniff",<br>  "X-XSS-Protection": "1; mode=block",<br>  "Permissions-Policy": "interest-cohort=()",<br>  "X-RateLimit-Limit": "60",<br>  "X-RateLimit-Remaining": "56",<br>  "X-RateLimit-Reset": "2025-07-16T10:04:00.315520Z",<br>  "Cache-Control": "no-store",<br>  "Vary": "Accept-Encoding, Origin",<br>  "Content-Encoding": "gzip",<br>  "ETag": "W/\"785cb633122e17b74597c88c1fd7f4ed\"",<br>  "Content-Security-Policy": "base-uri 'none'; default-src 'none'; frame-ancestors 'none'; font-src 'self' https://lab-fe.emso.vn; img-src 'self' https: data: blob: https://lab-fe.emso.vn; style-src 'self' https://lab-fe.emso.vn 'nonce-DQ1IgnsjxZGYBa7hzOAyyg=='; media-src 'self' https: data: https://lab-fe.emso.vn; frame-src 'self' https:; manifest-src 'self' https://lab-fe.emso.vn; connect-src 'self' data: blob: https://lab-fe.emso.vn https://cdn4.emso.vn/sn-web wss://lab-fe.emso.vn; script-src 'self' https://lab-fe.emso.vn; child-src 'self' blob: https://lab-fe.emso.vn; worker-src 'self' blob: https://lab-fe.emso.vn",<br>  "X-Request-Id": "464d4d03e6f13312d29ee25255ddbd77",<br>  "X-Runtime": "1.019477",<br>  "Strict-Transport-Security": "max-age=15724800; includeSubDomains"<br>}</pre>
                        </div>
                    </td>
                    <td>
                        <button class='btn btn-sm btn-outline-primary' type='button' data-bs-toggle='collapse' data-bs-target='#response0' aria-expanded='false' aria-controls='response0'>
                            Toggle Response
                        </button>
                        <div class='collapse' id='response0'>
                            <pre class='mt-2 mb-0 text-wrap json-pretty'>{<br>  "id": "114862339137025164",<br>  "type": "image",<br>  "url": "https://cdn4.emso.vn/sn-web/media_attachments/files/114/862/339/137/025/164/original/87f00ea41f058e7a.png",<br>  "preview_url": "https://cdn4.emso.vn/sn-web/media_attachments/files/114/862/339/137/025/164/small/87f00ea41f058e7a.png",<br>  "remote_url": null,<br>  "low_quality_url": null,<br>  "preview_remote_url": null,<br>  "text_url": null,<br>  "meta": {<br>    "original": {<br>      "width": 769,<br>      "height": 769,<br>      "size": "769x769",<br>      "aspect": 1.0,<br>      "average_color": "#a3918b"<br>    },<br>    "small": {<br>      "width": 400,<br>      "height": 400,<br>      "size": "400x400",<br>      "aspect": 1.0,<br>      "average_color": "#a2918a"<br>    }<br>  },<br>  "description": null,<br>  "position": 1.0,<br>  "blurhash": null,<br>  "status_id": "",<br>  "show_url": null,<br>  "created_at": "2025-07-16T17:03:24.227+07:00",<br>  "frame": null,<br>  "sound": null,<br>  "status_media": null<br>}</pre>
                        </div>
                    </td>
                    <td><span class='text-danger'>1.117 s</span></td>
                    <td class="text-truncate">2025-07-16 17:03:22</td>
                </tr>
                
                </tbody>
            </table>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script>
        
                /* Lấy biểu đồ Plotly */
                document.addEventListener('DOMContentLoaded', function() {
                    const chart = document.querySelector('.plotly-graph-div');
                    chart.on('plotly_click', function(data) {
                        const status = data.points[0].label;
                        if (status === 'No Results') return;
                        const rows = document.querySelectorAll('#testTableBody tr');
                        rows.forEach(row => {
                            const statusCell = row.querySelector('td:nth-child(2) span').textContent;
                            row.style.display = (status === statusCell) ? '' : 'none';
                        });
                    });
                    /* Reset filter khi click ngoài biểu đồ */
                    document.querySelector('.container-fluid').addEventListener('click', function(e) {
                        if (!e.target.closest('.plotly-graph-div')) {
                            const rows = document.querySelectorAll('#testTableBody tr');
                            rows.forEach(row => { row.style.display = ''; });
                        }
                    });
                    /* Kích hoạt colResizable cho bảng */
                    $(document).ready(function() {
                        $("#testTable").colResizable({
                            liveDrag: true,
                            gripInnerHtml: "<div class='grip'></div>",
                            draggingClass: "dragging"
                        });
                    });
                });
            
    </script>
</body>
</html>
